<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control de Granjas</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="background"></div>
  <main class="shell">
    <section id="auth" class="auth-shell">
      <div class="auth-card">
        <img src="images/logo-soto.png" alt="Soto del Prior" class="logo" onerror="this.style.display='none'">
        <h1 class="auth-title">Acceso a Granjas</h1>
        <div class="tabs">
          <button id="loginTab" class="tab active">Iniciar sesion</button>
          <button id="registerTab" class="tab">Crear cuenta</button>
        </div>
        <form id="loginForm" class="auth-form">
          <div class="alert hidden" id="loginAlert">Estas credenciales no coinciden con nuestros registros.</div>
          <label>Usuario
            <input type="text" id="loginUser" placeholder="gerencia@sotodelprior.com" required>
          </label>
          <label>Contrasena
            <input type="password" id="loginPass" placeholder="******" required>
          </label>
          <button type="submit" class="primary full">Acceder</button>
          <label class="remember">
            <input type="checkbox" id="rememberCheck">
            <span>Recordarme (guardar usuario y contrasena en este navegador)</span>
          </label>
          <a class="link" href="#" onclick="return false;">Olvidaste la contrasena?</a>
        </form>
        <form id="registerForm" class="auth-form hidden">
          <label>Usuario
            <input type="text" id="regUser" placeholder="nuevo usuario" required>
          </label>
          <label>Correo electronico
            <input type="email" id="regEmail" placeholder="tu@correo.com" required>
          </label>
          <label>Contrasena
            <input type="password" id="regPass" placeholder="crea una clave" required>
          </label>
          <button type="submit" class="primary full">Registrarse</button>
        </form>
        <div class="footer-bar">Datos guardados en este navegador</div>
      </div>
    </section>

    <section id="app" class="dashboard hidden">
      <div class="app-layout">
        <aside class="sidebar">
          <div class="user-card">
            <div class="avatar large" id="sidebarAvatar">G</div>
            <div>
              <p id="profileName" class="brand-name">Soto del Prior</p>
              <p class="brand-sub" id="profileSubtitle">Inteligencia ganadera</p>
            </div>
          </div>
          <nav class="nav">
            <a class="nav-link active" href="#" data-target="section-dashboard">Panel de control</a>
            <a class="nav-link" href="#" data-target="section-granjas">Granjas</a>
            <a class="nav-link" href="#" data-target="section-clima">Clima</a>
            <a class="nav-link" href="#" data-target="section-informes">Generar informes</a>
          </nav>
          <div class="sidebar-actions">
            <button id="settingsBtn" class="ghost full">Ajustes de perfil</button>
            <button id="logout" class="ghost full">Cerrar sesion</button>
          </div>
        </aside>

        <div class="content">
          <section class="section" id="section-dashboard">
            <header class="content-head">
              <div>
                <p class="eyebrow">Panel de Control</p>
                <h2>Monitoreo integral de tu operacion</h2>
                <p class="lede">Estado general de tus granjas, clima y acciones clave.</p>
              </div>
              <div class="head-actions">
                <button id="refreshAll" class="ghost">Actualizar clima</button>
              </div>
            </header>

            <div class="kpi-row">
              <div class="kpi card-soft">
                <p class="kpi-label">Total de animales</p>
                <p class="kpi-value" id="metric-total">0</p>
                <p class="kpi-foot">Activos</p>
              </div>
              <div class="kpi card-soft">
                <p class="kpi-label">Calidad promedio</p>
                <p class="kpi-value" id="metric-quality">0/100</p>
                <p class="kpi-foot">Indice predicho</p>
              </div>
              <div class="kpi card-soft">
                <p class="kpi-label">En engorde</p>
                <p class="kpi-value" id="metric-engorde">0</p>
                <p class="kpi-foot">Fase de finalizacion</p>
              </div>
              <div class="kpi card-soft">
                <p class="kpi-label">Ganancia diaria</p>
                <p class="kpi-value" id="metric-gain">0 kg</p>
                <p class="kpi-foot">Promedio reciente</p>
              </div>
            </div>

            <div class="panel-grid">
              <div class="card panel-chart">
                <div class="card-head">
                  <div>
                    <p class="eyebrow">Distribucion</p>
                    <h3>Estado del ciclo</h3>
                  </div>
                </div>
                <div class="bars">
                  <div class="bar">
                    <div class="bar-fill" id="bar-sacrificado"></div>
                    <span>Sacrificado</span>
                  </div>
                  <div class="bar">
                    <div class="bar-fill" id="bar-destete"></div>
                    <span>Destete</span>
                  </div>
                </div>
              </div>
              <div class="card panel-quality">
                <div class="card-head">
                  <div>
                    <p class="eyebrow">Indice de calidad predicho</p>
                    <h3>Distribucion</h3>
                  </div>
                </div>
                <ul class="quality-list">
                  <li><span class="dot green"></span> Excelente <span class="pill" id="qual-exc">0</span></li>
                  <li><span class="dot blue"></span> Buena <span class="pill" id="qual-buena">0</span></li>
                  <li><span class="dot amber"></span> Media <span class="pill" id="qual-media">0</span></li>
                  <li><span class="dot red"></span> Baja <span class="pill" id="qual-baja">0</span></li>
                </ul>
              </div>
            </div>
          </section>

                    <section class="section hidden" id="section-granjas">
            <header class="content-head">
              <div>
                <p class="eyebrow">Granjas</p>
                <h2>Gestion de granjas</h2>
                <p class="lede">Registra fincas con sus datos principales.</p>
              </div>
            </header>
            <div class="card farm-card" id="farmManager">
              <div class="farm-grid">
                <form id="farmForm" class="farm-form">
                  <p class="eyebrow">Registrar finca</p>
                  <h4>Datos de la finca</h4>
                  <label>Nombre
                    <input type="text" id="farmName" placeholder="Finca Soto" required>
                  </label>
                  <label>Localizacion
                    <input type="text" id="farmLocation" placeholder="Coordenadas o direccion" required>
                  </label>
                  <label>Dimension (ha)
                    <input type="number" step="any" id="farmSize" placeholder="50" required>
                  </label>
                  <label>Tipo de suelo
                    <input type="text" id="farmSoil" placeholder="Franco-arenoso" required>
                  </label>
                  <label>Nº de explotacion
                    <input type="text" id="farmLicense" placeholder="ES12345678" required>
                  </label>
                  <label>Animales permitidos por licencia
                    <input type="number" id="farmAnimals" placeholder="200" required>
                  </label>
                  <label>Tipo de manejo
                    <input type="text" id="farmManagement" placeholder="Extensivo / Intensivo" required>
                  </label>
                  <label>Sistema de alimentacion
                    <input type="text" id="farmFeed" placeholder="Pastoreo, pienso, mixto" required>
                  </label>
                  <button type="submit" class="primary full">Guardar finca</button>
                </form>

                <div class="farm-list">
                  <div class="list-head">
                    <div>
                      <p class="eyebrow">Fincas registradas</p>
                      <h4>Listado</h4>
                    </div>
                  </div>
                  <div id="fincasList" class="farms"></div>
                </div>
              </div>
            </div>
          </section>


          <section class="section hidden" id="section-clima">
            <header class="content-head">
              <div>
                <p class="eyebrow">Clima</p>
                <h2>Condiciones</h2>
                <p class="lede">Proximamente veras detalles climaticos centralizados.</p>
              </div>
            </header>
            <div class="card">
              <p class="status">Sin contenido aun.</p>
            </div>
          </section>

          <section class="section hidden" id="section-informes">
            <header class="content-head">
              <div>
                <p class="eyebrow">Informes</p>
                <h2>Generar informes</h2>
                <p class="lede">Zona en blanco para generar reportes.</p>
              </div>
            </header>
            <div class="card actions-card">
              <div class="card-head"><p class="eyebrow">Informes</p><h3>Generar informe</h3></div>
              <button class="action-btn" id="action-report">Generar informe</button>
            </div>
          </section>

          <div class="card hidden" id="perfil">
            <div class="list-head">
              <div>
                <p class="eyebrow">Perfil de usuario</p>
                <h3>Datos personales</h3>
              </div>
            </div>
            <div class="profile-card">
              <div class="profile-avatar-wrap">
                <div class="avatar large" id="profileAvatar">G</div>
                <label class="upload-btn">Subir imagen
                  <input type="file" id="profileAvatarInput" accept="image/*">
                </label>
                <button type="button" class="ghost small" id="avatarRemove">Quitar imagen</button>
              </div>
              <form id="profileForm" class="profile-form">
                <label>Nombre completo
                  <input type="text" id="profileNameInput" placeholder="Tu nombre" required>
                </label>
                <label>Correo electronico
                  <input type="email" id="profileEmailInput" placeholder="tu@correo.com" required>
                </label>
                <label>Descripcion
                  <input type="text" id="profileDescInput" placeholder="Gestion profesional">
                </label>
                <div class="profile-actions">
                  <button type="submit" class="primary">Guardar perfil</button>
                  <button type="button" class="ghost" id="profileCancel">Cancelar</button>
                </div>
              </form>
            </div>
          </div>

          <div class="card farm-card" id="farmManager">
            <div class="list-head">
              <div>
                <p class="eyebrow">Directorio</p>
                <h3>Granjas</h3>
              </div>
            </div>
            <div class="farm-grid">
              <form id="farmForm" class="farm-form">
                <p class="eyebrow">Nueva granja</p>
                <h4>Crear perfil</h4>
                <label>Nombre
                  <input type="text" id="farmName" placeholder="Finca Soto" required>
                </label>
                <label>Latitud
                  <input type="number" step="any" id="farmLat" placeholder="43.36" required>
                </label>
                <label>Longitud
                  <input type="number" step="any" id="farmLon" placeholder="-5.85" required>
                </label>
                <label>Tipo de suelo
                  <input type="text" id="farmSoil" placeholder="Franco-arenoso" required>
                </label>
                <button type="submit" class="primary full">Guardar</button>
              </form>

              <div class="farm-list">
                <div class="list-head">
                  <div>
                    <p class="eyebrow">Clima en tiempo real</p>
                    <h4>Granjas creadas</h4>
                  </div>
                </div>
                <div id="farms" class="farms"></div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>
  </main>
  <script src="app.js"></script>
</body>
</html>

